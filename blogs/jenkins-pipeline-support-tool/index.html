<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="How To Create Better Jenkins Pipelines With Compact CLI's"><link href=https://joostvdg.github.io/blogs/jenkins-pipeline-support-tool/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.2"><title>Jenkins Pipeline Support Tools</title><link rel=stylesheet href=../../assets/stylesheets/application.30686662.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#fb8c00><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-145385967-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=red> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#jenkins-pipeline-support-tools tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://joostvdg.github.io title="J's Software Development Pages" class="md-header-nav__button md-logo"> <i class=md-icon>public</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> J's Software Development Pages </span> <span class=md-header-nav__topic> Jenkins Pipeline Support Tools </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/joostvdg/joostvdg.github.io/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> joostvdg/joostvdg.github.io </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Blogs </a> </li> <li class=md-tabs__item> <a href=../../cloudbees/sso-azure-ad/ class=md-tabs__link> CICD </a> </li> <li class=md-tabs__item> <a href=../../kubernetes/ class=md-tabs__link> Containers </a> </li> <li class=md-tabs__item> <a href=../../cloud/automation-pulumi/ class=md-tabs__link> Cloud </a> </li> <li class=md-tabs__item> <a href=../../certificates/lets-encrypt-k8s/ class=md-tabs__link> SWE </a> </li> <li class=md-tabs__item> <a href=../../java/ class=md-tabs__link> Java </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://joostvdg.github.io title="J's Software Development Pages" class="md-nav__button md-logo"> <i class=md-icon>public</i> </a> J's Software Development Pages </label> <div class=md-nav__source> <a href=https://github.com/joostvdg/joostvdg.github.io/ title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> joostvdg/joostvdg.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Me class=md-nav__link> Me </a> </li> <li class=md-nav__item> <a href=../../other/mkdocs/ title="MKDocs (This Static Website)" class=md-nav__link> MKDocs (This Static Website) </a> </li> <li class=md-nav__item> <a href=../../other/vim/ title=VIM class=md-nav__link> VIM </a> </li> <li class=md-nav__item> <a href=../../other/shell/ title=Shell class=md-nav__link> Shell </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> Blogs </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Blogs </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Jenkins Pipeline Support Tools </label> <a href=./ title="Jenkins Pipeline Support Tools" class="md-nav__link md-nav__link--active"> Jenkins Pipeline Support Tools </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#ideal-pipeline class=md-nav__link> Ideal Pipeline </a> </li> <li class=md-nav__item> <a href=#kubernetes-pods class=md-nav__link> Kubernetes Pods </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#podtemplate-example class=md-nav__link> PodTemplate example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#java-example class=md-nav__link> Java Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-jdk-image class=md-nav__link> Custom JDK Image </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile class=md-nav__link> Dockerfile </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-disk-size class=md-nav__link> Image disk size </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#graal class=md-nav__link> Graal </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_1 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_1 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_1 class=md-nav__link> Dockerfile </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-disk-size_1 class=md-nav__link> Image disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-example class=md-nav__link> Go Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_2 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_2 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_2 class=md-nav__link> Dockerfile </a> </li> <li class=md-nav__item> <a href=#image-disk-size_2 class=md-nav__link> Image Disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python-example class=md-nav__link> Python Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_3 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_3 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_3 class=md-nav__link> Dockerfile </a> </li> <li class=md-nav__item> <a href=#image-disk-size_3 class=md-nav__link> Image Disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#container-footprint class=md-nav__link> Container footprint </a> </li> <li class=md-nav__item> <a href=#pipeline class=md-nav__link> Pipeline </a> </li> <li class=md-nav__item> <a href=#__comments title=Comments class="md-nav__link md-nav__link--active"> Comments </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../graceful-shutdown/ title="Docker Graceful Shutdown" class=md-nav__link> Docker Graceful Shutdown </a> </li> <li class=md-nav__item> <a href=../docker-alternatives/ title="Pipelines with Docker Alternatives" class=md-nav__link> Pipelines with Docker Alternatives </a> </li> <li class=md-nav__item> <a href=../k8s-lets-encrypt/ title="Let's Encrypt for Kubernetes Apps" class=md-nav__link> Let's Encrypt for Kubernetes Apps </a> </li> <li class=md-nav__item> <a href=../sso-azure-ad/ title="CloudBees SSO Azure AD" class=md-nav__link> CloudBees SSO Azure AD </a> </li> <li class=md-nav__item> <a href=../teams-automation/ title="CloudBees Automate Teams" class=md-nav__link> CloudBees Automate Teams </a> </li> <li class=md-nav__item> <a href=../kubernetes-sso-keycloak/ title="Kubernetes SSO Keycloak" class=md-nav__link> Kubernetes SSO Keycloak </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-8 type=checkbox id=nav-2-8> <label class=md-nav__link for=nav-2-8> Jenkins Monitoring Kubernetes </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-8> Jenkins Monitoring Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/introduction/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/prepare/ title="Prepare Environment" class=md-nav__link> Prepare Environment </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/install/ title="Install Tools" class=md-nav__link> Install Tools </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/metrics/ title=Metrics class=md-nav__link> Metrics </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/alerts/ title=Alerts class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/pipeline/ title=Pipeline class=md-nav__link> Pipeline </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/dashboard/ title=Dashboard class=md-nav__link> Dashboard </a> </li> <li class=md-nav__item> <a href=../monitor-jenkins-on-k8s/cloudbees/ title=CloudBees class=md-nav__link> CloudBees </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../k8s-crd/ title="Create your own k8s resource" class=md-nav__link> Create your own k8s resource </a> </li> <li class=md-nav__item> <a href=../dockercon-eu-2018/ title="DockerCon EU 2018" class=md-nav__link> DockerCon EU 2018 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> CICD </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> CICD </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> CloudBees </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-1> CloudBees </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cloudbees/sso-azure-ad/ title="Single Sign On - AzureAD" class=md-nav__link> Single Sign On - AzureAD </a> </li> <li class=md-nav__item> <a href=../../cloudbees/teams-automation/ title="CloudBees Automate Teams" class=md-nav__link> CloudBees Automate Teams </a> </li> <li class=md-nav__item> <a href=../../cloudbees/cbc-gke-helm/ title="CloudBees Core on GKE" class=md-nav__link> CloudBees Core on GKE </a> </li> <li class=md-nav__item> <a href=../../cloudbees/cbc-eks/ title="CloudBees Core on EKS" class=md-nav__link> CloudBees Core on EKS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Jenkins X </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-2> Jenkins X </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkinsx/aks-boot-core/ title="JX Boot & CloudBees Core" class=md-nav__link> JX Boot & CloudBees Core </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/hello-world/ title=HelloWorld class=md-nav__link> HelloWorld </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/buildpack/ title=BuildPack class=md-nav__link> BuildPack </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/maven/ title=Maven class=md-nav__link> Maven </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/hybrid/ title=Hybrid class=md-nav__link> Hybrid </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/kubernetes-days/ title="Example For Console Reel" class=md-nav__link> Example For Console Reel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Jenkins </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-3> Jenkins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins/ title=Intro class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../jenkins-jobs/jobdsl/ title=JobDSL class=md-nav__link> JobDSL </a> </li> <li class=md-nav__item> <a href=../../jenkins-jobs/jenkins-jobs-builder/ title=JenkinsJobsBuilder class=md-nav__link> JenkinsJobsBuilder </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Jenkins Pipelines </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-4> Jenkins Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins-pipeline/job-types/ title="Job Types" class=md-nav__link> Job Types </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/kaniko-pipelines/ title="Build Docker Image Kaniko" class=md-nav__link> Build Docker Image Kaniko </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/podtemplate-dind/ title="PodTemplate With Docker-In-Docker" class=md-nav__link> PodTemplate With Docker-In-Docker </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/jenkins-parallel-pipeline/ title="Parallel Pipelines" class=md-nav__link> Parallel Pipelines </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/core-concepts/ title="Core Concepts" class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/artifactory-integration/ title="Artifactory Integration" class=md-nav__link> Artifactory Integration </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/declarative-pipeline/ title="Pipeline (declarative)" class=md-nav__link> Pipeline (declarative) </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/groovy-pipeline/ title="Groovy DSL Pipeline" class=md-nav__link> Groovy DSL Pipeline </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/global-shared-library/ title="Pipeline Libraries" class=md-nav__link> Pipeline Libraries </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/ide-integration-pipeline-dsl/ title="DSL IDE Integration" class=md-nav__link> DSL IDE Integration </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/input/ title=Input class=md-nav__link> Input </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5> <label class=md-nav__link for=nav-3-5> Jenkins Pipeline Examples </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-5> Jenkins Pipeline Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/ title=Index class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/docker-alternatives/ title="Docker Alternatives" class=md-nav__link> Docker Alternatives </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/maven-declarative/ title="Maven Declarative" class=md-nav__link> Maven Declarative </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/docker-declarative/ title="Docker Declarative" class=md-nav__link> Docker Declarative </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Containers </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-1 type=checkbox id=nav-4-1> <label class=md-nav__link for=nav-4-1> Kubernetes (K8S) </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-1> Kubernetes (K8S) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../kubernetes/cka-exam-prep/ title="CKA Exam prep" class=md-nav__link> CKA Exam prep </a> </li> <li class=md-nav__item> <a href=../../kubernetes/tools/ title=Tools class=md-nav__link> Tools </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> K8S Public Services </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-2> K8S Public Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/distributions/install-gke/ title=GKE class=md-nav__link> GKE </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/eks-eksctl/ title="AWS EKS" class=md-nav__link> AWS EKS </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/aks-cli/ title="AKS CLI" class=md-nav__link> AKS CLI </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/aks-terraform/ title="AKS Terraform" class=md-nav__link> AKS Terraform </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> K8S Hard Way - GCE </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-3> K8S Hard Way - GCE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/ title="Installer Preparation" class=md-nav__link> Installer Preparation </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/terraform-compute/ title="Create GCE resources" class=md-nav__link> Create GCE resources </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/certificates/ title="Prepare Certificates" class=md-nav__link> Prepare Certificates </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/kubeconfigs/ title="Prepare Kubeconfigs" class=md-nav__link> Prepare Kubeconfigs </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/encryption/ title="Encryption configuration" class=md-nav__link> Encryption configuration </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/etcd/ title="ETCD configuration" class=md-nav__link> ETCD configuration </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/controller/ title="Controller Config" class=md-nav__link> Controller Config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/worker/ title="Worker Config" class=md-nav__link> Worker Config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/remote-access/ title="Remote access" class=md-nav__link> Remote access </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/network/ title="Network config" class=md-nav__link> Network config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/debug/ title=Debug class=md-nav__link> Debug </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-4 type=checkbox id=nav-4-4> <label class=md-nav__link for=nav-4-4> Docker </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-4> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../docker/graceful-shutdown/ title="Graceful Shutdown" class=md-nav__link> Graceful Shutdown </a> </li> <li class=md-nav__item> <a href=../../docker/build-kit/ title=BuildKit class=md-nav__link> BuildKit </a> </li> <li class=md-nav__item> <a href=../../docker/multi-stage-builds/ title="Multi-Stage Builds(TBD)" class=md-nav__link> Multi-Stage Builds(TBD) </a> </li> <li class=md-nav__item> <a href=../../docker/swarm/ title="Swarm (mode) (TBD)" class=md-nav__link> Swarm (mode) (TBD) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-5 type=checkbox id=nav-4-5> <label class=md-nav__link for=nav-4-5> Linux </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-5> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/systemd/ title=SystemD class=md-nav__link> SystemD </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Cloud </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cloud/automation-pulumi/ title="Automation - Pulumi" class=md-nav__link> Automation - Pulumi </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> SWE </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> SWE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../certificates/lets-encrypt-k8s/ title="Let's Encrypt K8S" class=md-nav__link> Let's Encrypt K8S </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> Software Engineering </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> Software Engineering </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../swe/important-concepts/ title="Important Concepts" class=md-nav__link> Important Concepts </a> </li> <li class=md-nav__item> <a href=../../swe/naming/ title=Naming class=md-nav__link> Naming </a> </li> <li class=md-nav__item> <a href=../../swe/distributed/ title="Distributed Computing" class=md-nav__link> Distributed Computing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Productivity </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-3> Productivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../productivity/ title=General class=md-nav__link> General </a> </li> <li class=md-nav__item> <a href=../../productivity/incidents/ title=Incidents class=md-nav__link> Incidents </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Java </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../java/ title=General class=md-nav__link> General </a> </li> <li class=md-nav__item> <a href=../../keep-watching/ title="Spring Boot App" class=md-nav__link> Spring Boot App </a> </li> <li class=md-nav__item> <a href=../../java/networking/ title="Java Networking" class=md-nav__link> Java Networking </a> </li> <li class=md-nav__item> <a href=../../java/concurrency/ title="Java Concurrency" class=md-nav__link> Java Concurrency </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#ideal-pipeline class=md-nav__link> Ideal Pipeline </a> </li> <li class=md-nav__item> <a href=#kubernetes-pods class=md-nav__link> Kubernetes Pods </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#podtemplate-example class=md-nav__link> PodTemplate example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#java-example class=md-nav__link> Java Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#custom-jdk-image class=md-nav__link> Custom JDK Image </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile class=md-nav__link> Dockerfile </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-disk-size class=md-nav__link> Image disk size </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#graal class=md-nav__link> Graal </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_1 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_1 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_1 class=md-nav__link> Dockerfile </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#image-disk-size_1 class=md-nav__link> Image disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-example class=md-nav__link> Go Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_2 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_2 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_2 class=md-nav__link> Dockerfile </a> </li> <li class=md-nav__item> <a href=#image-disk-size_2 class=md-nav__link> Image Disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#python-example class=md-nav__link> Python Example </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#application-model_3 class=md-nav__link> Application Model </a> </li> <li class=md-nav__item> <a href=#build_3 class=md-nav__link> Build </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dockerfile_3 class=md-nav__link> Dockerfile </a> </li> <li class=md-nav__item> <a href=#image-disk-size_3 class=md-nav__link> Image Disk size </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#container-footprint class=md-nav__link> Container footprint </a> </li> <li class=md-nav__item> <a href=#pipeline class=md-nav__link> Pipeline </a> </li> <li class=md-nav__item> <a href=#__comments title=Comments class="md-nav__link md-nav__link--active"> Comments </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/joostvdg/joostvdg.github.io/edit/master/docs/blogs/jenkins-pipeline-support-tool.md title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a> <h1 id=jenkins-pipeline-support-tools>Jenkins Pipeline Support Tools<a class=headerlink href=#jenkins-pipeline-support-tools title="Permanent link">&para;</a></h1> <p>With Jenkins now becoming Cloud Native and a first class citizen of Kubernetes, it is time to review how we use build tools.</p> <p>This content assumes you're using Jenkins in a Kubernetes cluster, but most of it should also work in other Docker-based environments.</p> <h2 id=ideal-pipeline>Ideal Pipeline<a class=headerlink href=#ideal-pipeline title="Permanent link">&para;</a></h2> <p>Anyway, one thing we often see people do wrong with Jenkins pipelines is to use the Groovy Scripts as a general-purpose programming language. This creates many problems, bloated &amp; complicated pipelines, much more stress on the master instead of on the build agent and generally making things unreliable.</p> <p>A much better way is to use Jenkins pipelines only as orchestration and lean heavily on your build tools - e.g., Maven, Gradle, Yarn, Bazel - and shell scripts. Alas, if you created complicated pipelines in Groovy scripts, it is likely you'll end up the same with Bash scripts. An even better solution would be to create custom CLI applications that take care of large operations and convoluted logic. You can test and reuse them.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>pipeline</span> <span class=o>{</span>
    <span class=n>agent</span> <span class=n>any</span>
    <span class=n>stages</span> <span class=o>{</span>
        <span class=n>stage</span><span class=o>(</span><span class=s1>&#39;Build&#39;</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>steps</span> <span class=o>{</span>
                <span class=n>sh</span> <span class=s1>&#39;./build.sh&#39;</span>
            <span class=o>}</span>
        <span class=o>}</span>
        <span class=n>stage</span><span class=o>(</span><span class=s1>&#39;Test&#39;</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>steps</span> <span class=o>{</span>
                <span class=n>sh</span> <span class=s1>&#39;./test.sh&#39;</span>
            <span class=o>}</span>
        <span class=o>}</span>
        <span class=n>stage</span><span class=o>(</span><span class=s1>&#39;Deploy&#39;</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>steps</span> <span class=o>{</span>
                <span class=n>sh</span> <span class=s1>&#39;./deploy.sh&#39;</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>
    <span class=n>post</span>  <span class=o>{</span>
        <span class=n>success</span> <span class=o>{</span>
            <span class=n>sh</span> <span class=s1>&#39;./successNotification.sh&#39;</span>
        <span class=o>}</span>
        <span class=n>failure</span> <span class=o>{</span>
          <span class=n>sh</span> <span class=s1>&#39;./failureNotification.sh&#39;</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div> </td></tr></table> <p>Now, this might look a bit like a pipe dream, but it illustrates how you should use Jenkins Pipeline. The groovy script engine allows for a lot of freedom, but only rarely is its use justified. To create robust, modular and generic pipelines, it is recommended to use build tools, shell scripts, <a href=https://jenkins.io/doc/book/pipeline/shared-libraries/ >Shared Libraries</a> and <strong>custom CLI's</strong>.</p> <p>It was always a bit difficult to manage generic scripts and tools across instances of Jenkins, pipelines, and teams. But with Pod Templates we have an excellent mechanism for using, versioning and distributing them with ease.</p> <h2 id=kubernetes-pods>Kubernetes Pods<a class=headerlink href=#kubernetes-pods title="Permanent link">&para;</a></h2> <p>When Jenkins runs in Kubernetes, it can leverage it via the <a href=https://github.com/jenkinsci/kubernetes-plugin>Kubernetes Plugin</a>. I realize Jenkins conjures up mixed emotions when it comes to plugins, but this setup might replace most of them.</p> <p>How so? By using a <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod/ >Kubernetes Pod</a> as the agent where instead of putting all your tools into a single VM you can use multiple small scoped containers.</p> <p>You can specify Pod Templates in multiple ways, where my personal favorite is to define it as yaml inside a <strong>declarative pipeline</strong> - see example below. For each tool you need, you specify the container and its configuration - if required. By default, you will always get a container with a <a href=https://hub.docker.com/r/jenkinsci/jnlp-slave/ >Jenkins JNLP client</a> and the workspace mounted as a volume in the pod.</p> <p>This allows you to create several tiny containers, each containing only the tools you need for a specific job. Now, it could happen you use two or more tools together a lot - let's say npm and maven - so it is ok to sometimes deviate from this to lower the overall memory of the pod.</p> <p>When you need custom logic, you will have to create a script or tool. This is where PodTemplate, Docker images and our desire for small narrow focus tools come together.</p> <h3 id=podtemplate-example>PodTemplate example<a class=headerlink href=#podtemplate-example title="Permanent link">&para;</a></h3> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>pipeline</span> <span class=o>{</span>
    <span class=n>agent</span> <span class=o>{</span>
        <span class=n>kubernetes</span> <span class=o>{</span>
        <span class=n>label</span> <span class=s1>&#39;mypod&#39;</span>
        <span class=n>defaultContainer</span> <span class=s1>&#39;jnlp&#39;</span>
        <span class=n>yaml</span> <span class=s2>&quot;&quot;&quot;</span>
<span class=s2>apiVersion: v1</span>
<span class=s2>kind: Pod</span>
<span class=s2>metadata:</span>
<span class=s2>  labels:</span>
<span class=s2>    some-label: some-label-value</span>
<span class=s2>spec:</span>
<span class=s2>  containers:</span>
<span class=s2>  - name: maven</span>
<span class=s2>    image: maven:alpine</span>
<span class=s2>    command:</span>
<span class=s2>    - cat</span>
<span class=s2>    tty: true</span>
<span class=s2>  - name: busybox</span>
<span class=s2>    image: busybox</span>
<span class=s2>    command:</span>
<span class=s2>    - cat</span>
<span class=s2>    tty: true</span>
<span class=s2>        &quot;&quot;&quot;</span>
        <span class=o>}</span>
    <span class=o>}</span>
    <span class=n>stages</span> <span class=o>{</span>
        <span class=n>stage</span><span class=o>(</span><span class=s1>&#39;Run maven&#39;</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>steps</span> <span class=o>{</span>
                <span class=n>container</span><span class=o>(</span><span class=s1>&#39;maven&#39;</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>sh</span> <span class=s1>&#39;mvn -version&#39;</span>
                <span class=o>}</span>
                <span class=n>container</span><span class=o>(</span><span class=s1>&#39;busybox&#39;</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>sh</span> <span class=s1>&#39;/bin/busybox&#39;</span>
                <span class=o>}</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div> </td></tr></table> <h2 id=java-example>Java Example<a class=headerlink href=#java-example title="Permanent link">&para;</a></h2> <p>I bet most people do not think about Java when it comes lightweight CLI applications, but I think that is a shame. Java has excellent tooling to help you build well-tested applications which can be understood and maintained by a vast majority of developers.</p> <p>To make the images small, we will use some of the new tools available in Java land. We will first dive into using Java Modularity and JLink to create a compact and strict binary package, and then we move onto Graal for creating a Native image.</p> <h3 id=custom-jdk-image>Custom JDK Image<a class=headerlink href=#custom-jdk-image title="Permanent link">&para;</a></h3> <p>All the source code of this example application is at <a href=https://github.com/joostvdg/jpb>github.com/joostvdg/jpb</a>.</p> <p>It is a small CLI which does only one thing; it parses a git commit log to see which folders changed. Quite a useful tool for Monorepo's or other repositories containing more than one changeable resource.</p> <p>Such a CLI should have specific characteristics: * testable * small memory footprint * small disk footprint * quick start * easy to setup * easy to maintain</p> <p>These points sound like an excellent use case for Java Modules and JLink. For those who don't know, <a href=https://www.baeldung.com/java-9-modularity>read up on Java Modules here</a> and <a href=https://dzone.com/articles/jlink-in-java-9>read up on JLink here</a>. JLink will create a binary image that we can use with Alpine Linux to form a minimal Java (Docker) Image.</p> <p>Unfortunately, the plugins for Maven (JMod and JLink) seem to have died. The support on Gradle side is not much better.</p> <p>So I created a solution myself with a multi-stage Docker build. Which does detract a bit from the ease of setup. But overall, it hits the other characteristics spot on. </p> <h4 id=application-model>Application Model<a class=headerlink href=#application-model title="Permanent link">&para;</a></h4> <p>For ease of maintenance and testing, we separate the parts of the CLI into Java Modules, as you can see in the model below. For using JLink, we need to be a module ourselves. So I figured to expand the exercise to use it to not only create boundaries via packages but also with Modules.</p> <p><img alt=Model src=../../images/jpb.png></p> <h4 id=build>Build<a class=headerlink href=#build title="Permanent link">&para;</a></h4> <p>The current LTS version of Java is 11, which means we need at least that if we want to be up-to-date. As we want to run the application in Alpine Linux, we need to build it with Alpine Linux - if you create a custom JDK image its OS specific. To my surprise, the official LTS release is not released for Alpine, so we use OpenJDK 12.</p> <p>Everything is built via a Multi-Stage Docker Build. This Dockerfile can be divided into five segments.</p> <ol> <li>creation of the base with a JDK 11+ on Alpine Linux</li> <li>compiling our Java Modules in into Module Jars</li> <li>test our code</li> <li>create our custom JDK image with just our code and whatever we need from the JDK</li> <li>create the runtime Docker image</li> </ol> <p>The Dockerfile looks a bit complicated, but we did get a Java runtime that is about 44MB in size and can run as a direct binary with no startup time. The Dockerfile can be much short if we use only a single module, but as our logic grows it is a thoughtful way to separate different concerns.</p> <p>Still, I'm not too happy with this for creating many small CLI's. To much handwork goes into creating the images like this. Relying on unmaintained Maven or Gradle Plugins doesn't seem a better choice.</p> <p>Luckily, there's a new game in town, <a href=https://github.com/oracle/graal>GraalVM</a>. We'll make an image with Graal next, stay tuned.</p> <h5 id=dockerfile>Dockerfile<a class=headerlink href=#dockerfile title="Permanent link">&para;</a></h5> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c>###############################################################</span>
<span class=c>###############################################################</span>
<span class=c>##### 1. CREATE ALPINE BASE WITH JDK11+</span>
<span class=c>#### OpenJDK image produces weird results with JLink (400mb + sizes)</span>
<span class=k>FROM</span><span class=s> alpine:3.8 AS build</span>
<span class=k>ENV</span> <span class=nv>JAVA_HOME</span><span class=o>=</span>/opt/jdk <span class=se>\</span>
    <span class=nv>PATH</span><span class=o>=</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span>:/opt/jdk/bin <span class=se>\</span>
    <span class=nv>LANG</span><span class=o>=</span>C.UTF-8

<span class=k>RUN</span> <span class=nb>set</span> -ex <span class=o>&amp;&amp;</span> <span class=se>\</span>
    apk add --no-cache bash <span class=o>&amp;&amp;</span> <span class=se>\</span>
    wget https://download.java.net/java/early_access/alpine/18/binaries/openjdk-12-ea+18_linux-x64-musl_bin.tar.gz -O jdk.tar.gz <span class=o>&amp;&amp;</span> <span class=se>\</span>
    mkdir -p /opt/jdk <span class=o>&amp;&amp;</span> <span class=se>\</span>
    tar zxvf jdk.tar.gz -C /opt/jdk --strip-components<span class=o>=</span><span class=m>1</span> <span class=o>&amp;&amp;</span> <span class=se>\</span>
    rm jdk.tar.gz <span class=o>&amp;&amp;</span> <span class=se>\</span>
    rm /opt/jdk/lib/src.zip
<span class=c>####################################</span>
<span class=c>## 2.a PREPARE COMPILE PHASE</span>
<span class=k>RUN</span> mkdir -p /usr/src/mods/jars
<span class=k>RUN</span> mkdir -p /usr/src/mods/compiled
<span class=k>COPY</span> . /usr/src
<span class=k>WORKDIR</span><span class=s> /usr/src</span>

<span class=c>## 2.b COMPILE ALL JAVA FILES</span>
<span class=k>RUN</span> javac -Xlint:unchecked -d /usr/src/mods/compiled --module-source-path /usr/src/src <span class=k>$(</span>find src -name <span class=s2>&quot;*.java&quot;</span><span class=k>)</span>
<span class=c>## 2.c CREATE ALL JAVA MODULE JARS</span>
<span class=k>RUN</span> jar --create --file /usr/src/mods/jars/joostvdg.jpb.api.jar --module-version <span class=m>1</span>.0 -C /usr/src/mods/compiled/joostvdg.jpb.api .
<span class=k>RUN</span> jar --create --file /usr/src/mods/jars/joostvdg.jpb.core.jar --module-version <span class=m>1</span>.0 -C /usr/src/mods/compiled/joostvdg.jpb.core .
<span class=k>RUN</span> jar --create --file /usr/src/mods/jars/joostvdg.jpb.cli.jar --module-version <span class=m>1</span>.0  -e com.github.joostvdg.jpb.cli.JpbApp<span class=se>\</span>
    -C /usr/src/mods/compiled/joostvdg.jpb.cli .
<span class=k>RUN</span> jar --create --file /usr/src/mods/jars/joostvdg.jpb.core.test.jar --module-version <span class=m>1</span>.0  -e com.github.joostvdg.jpb.core.test.ParseChangeListTest <span class=se>\</span>
    -C /usr/src/mods/compiled/joostvdg.jpb.core.test .
<span class=c>####################################</span>
<span class=c>## 3 RUN TESTS</span>
<span class=k>RUN</span> rm -rf /usr/bin/jpb-test-image
<span class=k>RUN</span> jlink <span class=se>\</span>
    --verbose <span class=se>\</span>
    --compress <span class=m>2</span> <span class=se>\</span>
    --no-header-files <span class=se>\</span>
    --no-man-pages <span class=se>\</span>
    --strip-debug <span class=se>\</span>
    --limit-modules java.base <span class=se>\</span>
    --launcher jpb-test<span class=o>=</span>joostvdg.jpb.core.test <span class=se>\</span>
    --module-path /usr/src/mods/jars/:<span class=nv>$JAVA_HOME</span>/jmods <span class=se>\</span>
    --add-modules joostvdg.jpb.core.test <span class=se>\</span>
    --add-modules joostvdg.jpb.core <span class=se>\</span>
    --add-modules joostvdg.jpb.api <span class=se>\</span>
     --output /usr/bin/jpb-test-image
<span class=k>RUN</span> /usr/bin/jpb-test-image/bin/java --list-modules
<span class=k>RUN</span> /usr/bin/jpb-test-image/bin/jpb-test
<span class=c>####################################</span>
<span class=c>## 4 BUILD RUNTIME - CUSTOM JDK IMAGE</span>
<span class=k>RUN</span> rm -rf /usr/bin/jpb-image
<span class=k>RUN</span> jlink <span class=se>\</span>
    --verbose <span class=se>\</span>
    --compress <span class=m>2</span> <span class=se>\</span>
    --no-header-files <span class=se>\</span>
    --no-man-pages <span class=se>\</span>
    --strip-debug <span class=se>\</span>
    --limit-modules java.base <span class=se>\</span>
    --launcher <span class=nv>jpb</span><span class=o>=</span>joostvdg.jpb.cli <span class=se>\</span>
    --module-path /usr/src/mods/jars/:<span class=nv>$JAVA_HOME</span>/jmods <span class=se>\</span>
    --add-modules joostvdg.jpb.cli <span class=se>\</span>
    --add-modules joostvdg.jpb.api <span class=se>\</span>
    --add-modules joostvdg.jpb.core <span class=se>\</span>
     --output /usr/bin/jpb-image
<span class=k>RUN</span> /usr/bin/jpb-image/bin/java --list-modules
<span class=c>####################################</span>
<span class=c>##### 5. RUNTIME IMAGE - ALPINE</span>
<span class=k>FROM</span><span class=s> panga/alpine:3.8-glibc2.27</span>
<span class=k>LABEL</span> <span class=nv>authors</span><span class=o>=</span><span class=s2>&quot;Joost van der Griendt &lt;joostvdg@gmail.com&gt;&quot;</span>
<span class=k>LABEL</span> <span class=nv>version</span><span class=o>=</span><span class=s2>&quot;0.1.0&quot;</span>
<span class=k>LABEL</span> <span class=nv>description</span><span class=o>=</span><span class=s2>&quot;Docker image for running Jenkins Pipeline Binary&quot;</span>
<span class=k>ENV</span> <span class=nv>DATE_CHANGED</span><span class=o>=</span><span class=s2>&quot;20181014-2035&quot;</span>
<span class=k>ENV</span> <span class=nv>JAVA_OPTS</span><span class=o>=</span><span class=s2>&quot;-XX:+UseCGroupMemoryLimitForHeap -XX:+UnlockExperimentalVMOptions&quot;</span>
<span class=k>COPY</span> --from<span class=o>=</span>build /usr/bin/jpb-image/ /usr/bin/jpb
<span class=k>ENTRYPOINT</span> <span class=p>[</span><span class=s2>&quot;/usr/bin/jpb/bin/jpb&quot;</span><span class=p>]</span>
</pre></div> </td></tr></table> <h4 id=image-disk-size>Image disk size<a class=headerlink href=#image-disk-size title="Permanent link">&para;</a></h4> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span>REPOSITORY                                   TAG                 IMAGE ID            CREATED              SIZE
jpb                                          latest              af7dda45732a        About a minute ago   <span class=m>43</span>.8MB
</pre></div> </td></tr></table> <h3 id=graal>Graal<a class=headerlink href=#graal title="Permanent link">&para;</a></h3> <blockquote> <p>GraalVM is a universal virtual machine for running applications written in JavaScript, Python, Ruby, R, JVM-based languages like Java, Scala, Kotlin, Clojure, and LLVM-based languages such as C and C++. - <a href=https://www.graalvm.org>graalvm.org</a></p> </blockquote> <p>Ok, that doesn't tell you why using GraalVM is excellent for creating small CLI docker images. Maybe this quote helps:</p> <blockquote> <p>Native images compiled with GraalVM ahead-of-time improve the startup time and reduce the memory footprint of JVM-based applications. </p> </blockquote> <p>Where JLink allows you to create a custom JDK image and embed your application as a runtime binary, Graal goes one step further. It replaces the VM altogether and uses <a href=https://github.com/oracle/graal/tree/master/substratevm>Substrate VM</a> to run your binary. It can't do a lot of the fantastic things the JVM can do and isn't suited for long running applications or those with a large memory footprint and so on. Well, our CLI applications are single shot executions with low memory footprint, the perfect fit for Graal/Substrate!</p> <p>All the code from this example can is on GitHub at <a href=https://github.com/demomon/jpc-graal--maven>github.com/demomon/jpc-graal--maven</a>.</p> <h4 id=application-model_1>Application Model<a class=headerlink href=#application-model_1 title="Permanent link">&para;</a></h4> <p>While building modular Java applications is excellent, the current tooling support terrible. So this time the application is a single Jar - Graal can create images from classes or jars - where packages do the separation.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=p>.</span>
<span class=err>├──</span> <span class=n>Dockerfile</span>
<span class=err>├──</span> <span class=n>LICENSE</span>
<span class=err>├──</span> <span class=n>README</span><span class=p>.</span><span class=n>md</span>
<span class=err>├──</span> <span class=n>docker</span><span class=o>-</span><span class=n>graal</span><span class=o>-</span><span class=n>build</span><span class=p>.</span><span class=n>sh</span>
<span class=err>├──</span> <span class=n>pom</span><span class=p>.</span><span class=n>xml</span>
<span class=err>└──</span> <span class=n>src</span>
    <span class=err>├──</span> <span class=n>main</span>
    <span class=err>  </span> <span class=err>└──</span> <span class=n>java</span>
    <span class=err>  </span>     <span class=err>└──</span> <span class=n>com</span>
    <span class=err>  </span>         <span class=err>└──</span> <span class=n>github</span>
    <span class=err>  </span>             <span class=err>└──</span> <span class=n>joostvdg</span>
    <span class=err>  </span>                 <span class=err>└──</span> <span class=n>demo</span>
    <span class=err>  </span>                     <span class=err>├──</span> <span class=n>App</span><span class=p>.</span><span class=n>java</span>
    <span class=err>  </span>                     <span class=err>└──</span> <span class=n>Hello</span><span class=p>.</span><span class=n>java</span>
</pre></div> </td></tr></table> <h4 id=build_1>Build<a class=headerlink href=#build_1 title="Permanent link">&para;</a></h4> <p>Graal can build a native image based on a Jar file. This allows us to use any standard Java build tool such as Maven or Gradle to build the jar. The actual Graal build will be done in a Dockerfile.</p> <p>The people over at Oracle have created an <a href=https://hub.docker.com/r/oracle/graalvm-ce/ >official Docker image</a> reducing effort spend on our side.</p> <p>The Dockerfile has three segments:</p> <ul> <li>build the jar with Maven</li> <li>build the native image with Graal</li> <li>assembly the runtime Docker image based on Alpine</li> </ul> <p>As you can see below, the Graal image is only half the size of the JLink image! Let's see how that stacks up to other languages such as Go and Python.</p> <h5 id=dockerfile_1>Dockerfile<a class=headerlink href=#dockerfile_1 title="Permanent link">&para;</a></h5> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=c>#######################################</span>
<span class=c>## 1. BUILD JAR WITH MAVEN</span>
<span class=k>FROM</span><span class=s> maven:3.6-jdk-8 as BUILD</span>
<span class=k>WORKDIR</span><span class=s> /usr/src</span>
<span class=k>COPY</span> . /usr/src
<span class=k>RUN</span> mvn clean package -e
<span class=c>#######################################</span>
<span class=c>## 2. BUILD NATIVE IMAGE WITH GRAAL</span>
<span class=k>FROM</span><span class=s> oracle/graalvm-ce:1.0.0-rc9 as NATIVE_BUILD</span>
<span class=k>WORKDIR</span><span class=s> /usr/src</span>
<span class=k>COPY</span> --from<span class=o>=</span>BUILD /usr/src/ /usr/src
<span class=k>RUN</span> ls -lath /usr/src/target/
<span class=k>COPY</span> /docker-graal-build.sh /usr/src
<span class=k>RUN</span> ./docker-graal-build.sh
<span class=k>RUN</span> ls -lath
<span class=c>#######################################</span>
<span class=c>## 3. BUILD DOCKER RUNTIME IMAGE</span>
<span class=k>FROM</span><span class=s> alpine:3.8</span>
<span class=k>CMD</span> <span class=p>[</span><span class=s2>&quot;jpc-graal&quot;</span><span class=p>]</span>
<span class=k>COPY</span> --from<span class=o>=</span>NATIVE_BUILD /usr/src/jpc-graal /usr/local/bin/
<span class=k>RUN</span> chmod +x /usr/local/bin/jpc-graal
<span class=c>#######################################</span>
</pre></div> </td></tr></table> <h4 id=image-disk-size_1>Image disk size<a class=headerlink href=#image-disk-size_1 title="Permanent link">&para;</a></h4> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span>REPOSITORY                                   TAG                 IMAGE ID            CREATED             SIZE
jpc-graal-maven                              latest              dc33ebb10813        About an hour ago   <span class=m>19</span>.6MB
</pre></div> </td></tr></table> <h2 id=go-example>Go Example<a class=headerlink href=#go-example title="Permanent link">&para;</a></h2> <h3 id=application-model_2>Application Model<a class=headerlink href=#application-model_2 title="Permanent link">&para;</a></h3> <h3 id=build_2>Build<a class=headerlink href=#build_2 title="Permanent link">&para;</a></h3> <h4 id=dockerfile_2>Dockerfile<a class=headerlink href=#dockerfile_2 title="Permanent link">&para;</a></h4> <h4 id=image-disk-size_2>Image Disk size<a class=headerlink href=#image-disk-size_2 title="Permanent link">&para;</a></h4> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2</pre></div></td><td class=code><div class=codehilite><pre><span></span>REPOSITORY                                   TAG                 IMAGE ID            CREATED             SIZE
jpc-go                                       latest              bb4a8e546601        <span class=m>6</span> minutes ago       <span class=m>12</span>.3MB
</pre></div> </td></tr></table> <h2 id=python-example>Python Example<a class=headerlink href=#python-example title="Permanent link">&para;</a></h2> <h3 id=application-model_3>Application Model<a class=headerlink href=#application-model_3 title="Permanent link">&para;</a></h3> <h3 id=build_3>Build<a class=headerlink href=#build_3 title="Permanent link">&para;</a></h3> <h4 id=dockerfile_3>Dockerfile<a class=headerlink href=#dockerfile_3 title="Permanent link">&para;</a></h4> <h4 id=image-disk-size_3>Image Disk size<a class=headerlink href=#image-disk-size_3 title="Permanent link">&para;</a></h4> <h2 id=container-footprint>Container footprint<a class=headerlink href=#container-footprint title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span>1
2
3
4
5
6</pre></div></td><td class=code><div class=codehilite><pre><span></span>kubectl top pods mypod-s4wpb-7dz4q --containers
POD                 NAME         CPU<span class=o>(</span>cores<span class=o>)</span>   MEMORY<span class=o>(</span>bytes<span class=o>)</span>
mypod-7lxnk-gw1sj   jpc-go       0m           0Mi
mypod-7lxnk-gw1sj   java-jlink   0m           0Mi
mypod-7lxnk-gw1sj   java-graal   0m           0Mi
mypod-7lxnk-gw1sj   jnlp         150m         96Mi
</pre></div> </td></tr></table> <p>So, the 0Mi memory seems wrong. So I decided to dive into the Google Cloud Console, to see if there's any information in there. What I found there, is the data you can see below. The memory is indeed 0Mi, as they're using between 329 and 815 Kilobytes and not hitting the MB threshold (and thus get listed as 0Mi).</p> <p>We do see that graal uses more CPU and slightly less memory than the JLink setup. Both are still significantly larger than the Go CLI tool, but as long as the JNLP container takes ~100MB, I don't think we should worry about 400-500KB.</p> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class=code><div class=codehilite><pre><span></span>CPU 
container/cpu/usage_time:gke_container:REDUCE_SUM<span class=o>(</span>, ps-dev-201405<span class=o>)</span>: <span class=m>0</span>.24
 java-graal: 5e-4
 java-jlink: 3e-3
 jnlp: <span class=m>0</span>.23
 jpc-go: 2e-4
Memory 
 java-graal: <span class=m>729</span>,088.00
 java-jlink: <span class=m>815</span>,104.00
 jnlp: <span class=m>101</span>.507M
 jpc-go: <span class=m>327</span>,680.00
Disk 
 java-graal: <span class=m>49</span>,152.00
 java-jlink: <span class=m>49</span>,152.00
 jnlp: <span class=m>94</span>,208.00
 jpc-go: <span class=m>49</span>,152.00
</pre></div> </td></tr></table> <h2 id=pipeline>Pipeline<a class=headerlink href=#pipeline title="Permanent link">&para;</a></h2> <table class=codehilitetable><tr><td class=linenos><div class=linenodiv><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre></div></td><td class=code><div class=codehilite><pre><span></span><span class=n>pipeline</span> <span class=o>{</span>
    <span class=n>agent</span> <span class=o>{</span>
        <span class=n>kubernetes</span> <span class=o>{</span>
        <span class=n>label</span> <span class=s1>&#39;mypod&#39;</span>
        <span class=n>defaultContainer</span> <span class=s1>&#39;jnlp&#39;</span>
        <span class=n>yaml</span> <span class=s2>&quot;&quot;&quot;</span>
<span class=s2>apiVersion: v1</span>
<span class=s2>kind: Pod</span>
<span class=s2>metadata:</span>
<span class=s2>  labels:</span>
<span class=s2>    some-label: some-label-value</span>
<span class=s2>spec:</span>
<span class=s2>  containers:</span>
<span class=s2>  - name: java-graal</span>
<span class=s2>    image: caladreas/jpc-graal:0.1.0-maven-b1</span>
<span class=s2>    command:</span>
<span class=s2>    - cat</span>
<span class=s2>    tty: true</span>
<span class=s2>  - name: java-jlink</span>
<span class=s2>    image: caladreas/jpc-jlink:0.1.0-b1</span>
<span class=s2>    command:</span>
<span class=s2>    - cat</span>
<span class=s2>    tty: true</span>
<span class=s2>  - name: jpc-go</span>
<span class=s2>    image: caladreas/jpc-go:0.1.0-b1</span>
<span class=s2>    command:</span>
<span class=s2>    - cat</span>
<span class=s2>    tty: true</span>
<span class=s2>        &quot;&quot;&quot;</span>
        <span class=o>}</span>
    <span class=o>}</span>
    <span class=n>stages</span> <span class=o>{</span>
        <span class=n>stage</span><span class=o>(</span><span class=s1>&#39;Test Versions&#39;</span><span class=o>)</span> <span class=o>{</span>
            <span class=n>steps</span> <span class=o>{</span>
                <span class=n>container</span><span class=o>(</span><span class=s1>&#39;java-graal&#39;</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>echo</span> <span class=s2>&quot;java-graal&quot;</span>
                    <span class=n>sh</span> <span class=s1>&#39;/usr/local/bin/jpc-graal&#39;</span>
                    <span class=n>sleep</span> <span class=mi>5</span>
                <span class=o>}</span>

                <span class=n>container</span><span class=o>(</span><span class=s1>&#39;java-jlink&#39;</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>echo</span> <span class=s2>&quot;java-jlink&quot;</span>
                    <span class=n>sh</span> <span class=s1>&#39;/usr/bin/jpb/bin/jpb GitChangeListToFolder abc abc&#39;</span>
                    <span class=n>sleep</span> <span class=mi>5</span>
                <span class=o>}</span>

                <span class=n>container</span><span class=o>(</span><span class=s1>&#39;jpc-go&#39;</span><span class=o>)</span> <span class=o>{</span>
                    <span class=n>sh</span> <span class=s1>&#39;jpc-go sayHello -n joost&#39;</span>
                    <span class=n>sleep</span> <span class=mi>5</span>
                <span class=o>}</span>
                <span class=n>sleep</span> <span class=mi>60</span>
            <span class=o>}</span>
        <span class=o>}</span>
    <span class=o>}</span>
<span class=o>}</span>
</pre></div> </td></tr></table> <h2 id=__comments>Comments</h2> <div id=disqus_thread></div> <script>
    var disqus_config = function () {
      this.page.url = "https://joostvdg.github.io/blogs/jenkins-pipeline-support-tool/";
      this.page.identifier =
        "/blogs/jenkins-pipeline-support-tool/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//joostvdg-github-io.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../other/shell/ title=Shell class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Shell </span> </div> </a> <a href=../graceful-shutdown/ title="Docker Graceful Shutdown" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Docker Graceful Shutdown </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 Joost van der Griendt </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://github.com/joostvdg class="md-footer-social__link fa fa-github"></a> <a href=https://twitter.com/joost_vdg class="md-footer-social__link fa fa-twitter"></a> <a href=https://linkedin.com/in/joostvdg class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c648116f.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> </body> </html>