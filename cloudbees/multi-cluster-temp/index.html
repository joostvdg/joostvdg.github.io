<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Manage Masters on multiple Kubernetes Cluster with CloudBees Core"><link href=https://joostvdg.github.io/cloudbees/multi-cluster-temp/ rel=canonical><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-5.0.0b3-2"><title>CloudBees Core Modern Multi-Cluster</title><link rel=stylesheet href=../../assets/stylesheets/main.5ac791a0.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.f5f04e6f.min.css><meta name=theme-color content=#ffa726><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700%7CCutive+Mono&display=fallback"><style>body,input{font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Cutive Mono","Courier New",Courier,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-145385967-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=orange data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <a href=#cloudbees-core-on-multiple-clusters class=md-skip data-md-component=skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <a href=https://joostvdg.github.io title="J's Software Development Pages" aria-label="J's Software Development Pages" class="md-header-nav__button md-logo"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z /></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class="md-header-nav__ellipsis md-ellipsis"> <span class=md-header-nav__topic> J's Software Development Pages </span> <span class=md-header-nav__topic> CloudBees Core Modern Multi-Cluster </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </label> <button type=reset class="md-search__icon md-icon" data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z /></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/joostvdg/joostvdg.github.io/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> joostvdg/joostvdg.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../blogs/jenkins-pipeline-support-tool/ class=md-tabs__link> Blogs </a> </li> <li class=md-tabs__item> <a href=../sso-azure-ad/ class=md-tabs__link> Jenkins & CloudBees </a> </li> <li class=md-tabs__item> <a href=../../jenkinsx/build-packs/ class=md-tabs__link> Jenkins X </a> </li> <li class=md-tabs__item> <a href=../../openshift/rhos311-gcp-minimal/ class=md-tabs__link> Containers </a> </li> <li class=md-tabs__item> <a href=../../cloud/automation-pulumi/ class=md-tabs__link> Software Eng. </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://joostvdg.github.io title="J's Software Development Pages" aria-label="J's Software Development Pages" class="md-nav__button md-logo"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z"/></svg> </a> J's Software Development Pages </label> <div class=md-nav__source> <a href=https://github.com/joostvdg/joostvdg.github.io/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> joostvdg/joostvdg.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Me class=md-nav__link> Me </a> </li> <li class=md-nav__item> <a href=../../other/mkdocs/ title="MKDocs (This Static Website)" class=md-nav__link> MKDocs (This Static Website) </a> </li> <li class=md-nav__item> <a href=../../other/vim/ title=VIM class=md-nav__link> VIM </a> </li> <li class=md-nav__item> <a href=../../other/shell/ title=Shell class=md-nav__link> Shell </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Blogs <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Blogs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blogs/jenkins-pipeline-support-tool/ title="Jenkins Pipeline Support Tools" class=md-nav__link> Jenkins Pipeline Support Tools </a> </li> <li class=md-nav__item> <a href=../../blogs/graceful-shutdown/ title="Docker Graceful Shutdown" class=md-nav__link> Docker Graceful Shutdown </a> </li> <li class=md-nav__item> <a href=../../blogs/docker-alternatives/ title="Pipelines with Docker Alternatives" class=md-nav__link> Pipelines with Docker Alternatives </a> </li> <li class=md-nav__item> <a href=../../blogs/k8s-lets-encrypt/ title="Let's Encrypt for Kubernetes Apps" class=md-nav__link> Let's Encrypt for Kubernetes Apps </a> </li> <li class=md-nav__item> <a href=../../blogs/sso-azure-ad/ title="CloudBees SSO Azure AD" class=md-nav__link> CloudBees SSO Azure AD </a> </li> <li class=md-nav__item> <a href=../../blogs/teams-automation/ title="CloudBees Automate Teams" class=md-nav__link> CloudBees Automate Teams </a> </li> <li class=md-nav__item> <a href=../../blogs/kubernetes-sso-keycloak/ title="Kubernetes SSO Keycloak" class=md-nav__link> Kubernetes SSO Keycloak </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2-8 type=checkbox id=nav-2-8> <label class=md-nav__link for=nav-2-8> Jenkins Monitoring Kubernetes <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-2-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins Monitoring Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/introduction/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/prepare/ title="Prepare Environment" class=md-nav__link> Prepare Environment </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/install/ title="Install Tools" class=md-nav__link> Install Tools </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/metrics/ title=Metrics class=md-nav__link> Metrics </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/alerts/ title=Alerts class=md-nav__link> Alerts </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/pipeline/ title=Pipeline class=md-nav__link> Pipeline </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/dashboard/ title=Dashboard class=md-nav__link> Dashboard </a> </li> <li class=md-nav__item> <a href=../../blogs/monitor-jenkins-on-k8s/cloudbees/ title=CloudBees class=md-nav__link> CloudBees </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../blogs/k8s-crd/ title="Create your own k8s resource" class=md-nav__link> Create your own k8s resource </a> </li> <li class=md-nav__item> <a href=../../blogs/dockercon-eu-2018/ title="DockerCon EU 2018" class=md-nav__link> DockerCon EU 2018 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Jenkins & CloudBees <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins & CloudBees </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> CloudBees <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> CloudBees </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sso-azure-ad/ title="Single Sign On - AzureAD" class=md-nav__link> Single Sign On - AzureAD </a> </li> <li class=md-nav__item> <a href=../teams-automation/ title="CloudBees Automate Teams" class=md-nav__link> CloudBees Automate Teams </a> </li> <li class=md-nav__item> <a href=../cbc-gke-helm/ title="CloudBees Core on GKE" class=md-nav__link> CloudBees Core on GKE </a> </li> <li class=md-nav__item> <a href=../cbc-eks/ title="CloudBees Core on EKS" class=md-nav__link> CloudBees Core on EKS </a> </li> <li class=md-nav__item> <a href=../cbc-team-namespace/ title="Team Master Namespace" class=md-nav__link> Team Master Namespace </a> </li> <li class=md-nav__item> <a href=../multi-cluster/ title=Multi-Cluster class=md-nav__link> Multi-Cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Jenkins <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins/ title=Intro class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../jenkins-jobs/jobdsl/ title=JobDSL class=md-nav__link> JobDSL </a> </li> <li class=md-nav__item> <a href=../../jenkins-jobs/jenkins-jobs-builder/ title=JenkinsJobsBuilder class=md-nav__link> JenkinsJobsBuilder </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Jenkins Pipelines <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins Pipelines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins-pipeline/job-types/ title="Job Types" class=md-nav__link> Job Types </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/kaniko-pipelines/ title="Build Docker Image Kaniko" class=md-nav__link> Build Docker Image Kaniko </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/podtemplate-dind/ title="PodTemplate With Docker-In-Docker" class=md-nav__link> PodTemplate With Docker-In-Docker </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/jenkins-parallel-pipeline/ title="Parallel Pipelines" class=md-nav__link> Parallel Pipelines </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/core-concepts/ title="Core Concepts" class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/artifactory-integration/ title="Artifactory Integration" class=md-nav__link> Artifactory Integration </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/declarative-pipeline/ title="Pipeline (declarative)" class=md-nav__link> Pipeline (declarative) </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/groovy-pipeline/ title="Groovy DSL Pipeline" class=md-nav__link> Groovy DSL Pipeline </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/global-shared-library/ title="Pipeline Libraries" class=md-nav__link> Pipeline Libraries </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/ide-integration-pipeline-dsl/ title="DSL IDE Integration" class=md-nav__link> DSL IDE Integration </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline/input/ title=Input class=md-nav__link> Input </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Jenkins Pipeline Examples <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins Pipeline Examples </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/ title=Index class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/docker-alternatives/ title="Docker Alternatives" class=md-nav__link> Docker Alternatives </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/maven-declarative/ title="Maven Declarative" class=md-nav__link> Maven Declarative </a> </li> <li class=md-nav__item> <a href=../../jenkins-pipeline-examples/docker-declarative/ title="Docker Declarative" class=md-nav__link> Docker Declarative </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Jenkins X <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Jenkins X </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jenkinsx/build-packs/ title="Build Packs" class=md-nav__link> Build Packs </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/jx-pipelines/ title="Jenkins X Pipelines" class=md-nav__link> Jenkins X Pipelines </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/jxboot/ title="JX Boot GKE" class=md-nav__link> JX Boot GKE </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/jxboot-aks/ title="JX Boot AKS" class=md-nav__link> JX Boot AKS </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/aks-boot-core/ title="JX Boot & CloudBees Core" class=md-nav__link> JX Boot & CloudBees Core </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/rhos-311-minimal/ title="OpenShift 3.11" class=md-nav__link> OpenShift 3.11 </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/rhos-311-restricted/ title="OpenShift 3.11 - Restricted" class=md-nav__link> OpenShift 3.11 - Restricted </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/lighthouse-bitbucket/ title="Lighthouse & Bitbucket" class=md-nav__link> Lighthouse & Bitbucket </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/hello-world/ title=HelloWorld class=md-nav__link> HelloWorld </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/maven/ title=Maven class=md-nav__link> Maven </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/hybrid/ title=Hybrid class=md-nav__link> Hybrid </a> </li> <li class=md-nav__item> <a href=../../jenkinsx/kubernetes-days/ title="Example For Console Reel" class=md-nav__link> Example For Console Reel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Containers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1> <label class=md-nav__link for=nav-5-1> OpenShift <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../openshift/rhos311-gcp-minimal/ title="OpenShift 3.11 GCP(minimal)" class=md-nav__link> OpenShift 3.11 GCP(minimal) </a> </li> <li class=md-nav__item> <a href=../../openshift/rhos311-gcp-medium/ title="OpenShift 3.11 GCP(medium)" class=md-nav__link> OpenShift 3.11 GCP(medium) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Kubernetes (K8S) <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Kubernetes (K8S) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../kubernetes/cka-exam-prep/ title="CKA Exam prep" class=md-nav__link> CKA Exam prep </a> </li> <li class=md-nav__item> <a href=../../kubernetes/tools/ title=Tools class=md-nav__link> Tools </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> Managed Kubernetes (cloud) <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Managed Kubernetes (cloud) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/distributions/install-gke/ title=GKE class=md-nav__link> GKE </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/gke-terraform/ title="GKE Terraform" class=md-nav__link> GKE Terraform </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/eks-eksctl/ title="AWS EKS" class=md-nav__link> AWS EKS </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/aks-cli/ title="AKS CLI" class=md-nav__link> AKS CLI </a> </li> <li class=md-nav__item> <a href=../../kubernetes/distributions/aks-terraform/ title="AKS Terraform" class=md-nav__link> AKS Terraform </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> K8S Hard Way - GCE <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> K8S Hard Way - GCE </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/ title="Installer Preparation" class=md-nav__link> Installer Preparation </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/terraform-compute/ title="Create GCE resources" class=md-nav__link> Create GCE resources </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/certificates/ title="Prepare Certificates" class=md-nav__link> Prepare Certificates </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/kubeconfigs/ title="Prepare Kubeconfigs" class=md-nav__link> Prepare Kubeconfigs </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/encryption/ title="Encryption configuration" class=md-nav__link> Encryption configuration </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/etcd/ title="ETCD configuration" class=md-nav__link> ETCD configuration </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/controller/ title="Controller Config" class=md-nav__link> Controller Config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/worker/ title="Worker Config" class=md-nav__link> Worker Config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/remote-access/ title="Remote access" class=md-nav__link> Remote access </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/network/ title="Network config" class=md-nav__link> Network config </a> </li> <li class=md-nav__item> <a href=../../kubernetes/khw-gce/debug/ title=Debug class=md-nav__link> Debug </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-5 type=checkbox id=nav-5-5> <label class=md-nav__link for=nav-5-5> Docker <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../docker/graceful-shutdown/ title="Graceful Shutdown" class=md-nav__link> Graceful Shutdown </a> </li> <li class=md-nav__item> <a href=../../docker/build-kit/ title=BuildKit class=md-nav__link> BuildKit </a> </li> <li class=md-nav__item> <a href=../../docker/multi-stage-builds/ title="Multi-Stage Builds(TBD)" class=md-nav__link> Multi-Stage Builds(TBD) </a> </li> <li class=md-nav__item> <a href=../../docker/swarm/ title="Swarm (mode) (TBD)" class=md-nav__link> Swarm (mode) (TBD) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-6 type=checkbox id=nav-5-6> <label class=md-nav__link for=nav-5-6> Linux <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-5-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/systemd/ title=SystemD class=md-nav__link> SystemD </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Software Eng. <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Software Eng. </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-1 type=checkbox id=nav-6-1> <label class=md-nav__link for=nav-6-1> Automation <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-6-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cloud/automation-pulumi/ title=Pulumi class=md-nav__link> Pulumi </a> </li> <li class=md-nav__item> <a href=../../certificates/lets-encrypt-k8s/ title="Let's Encrypt K8S" class=md-nav__link> Let's Encrypt K8S </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> Software Engineering <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-6-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Software Engineering </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../swe/important-concepts/ title="Important Concepts" class=md-nav__link> Important Concepts </a> </li> <li class=md-nav__item> <a href=../../swe/naming/ title=Naming class=md-nav__link> Naming </a> </li> <li class=md-nav__item> <a href=../../swe/distributed/ title="Distributed Computing" class=md-nav__link> Distributed Computing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Productivity <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-6-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Productivity </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../productivity/ title=General class=md-nav__link> General </a> </li> <li class=md-nav__item> <a href=../../productivity/incidents/ title=Incidents class=md-nav__link> Incidents </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> Java <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z /></svg> </span> </label> <nav class=md-nav data-md-level=2> <label class=md-nav__title for=nav-6-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../java/ title=General class=md-nav__link> General </a> </li> <li class=md-nav__item> <a href=../../keep-watching/ title="Spring Boot App" class=md-nav__link> Spring Boot App </a> </li> <li class=md-nav__item> <a href=../../java/networking/ title="Java Networking" class=md-nav__link> Java Networking </a> </li> <li class=md-nav__item> <a href=../../java/concurrency/ title="Java Concurrency" class=md-nav__link> Java Concurrency </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d=M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z /></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#pre-requisites class=md-nav__link> Pre-Requisites </a> </li> <li class=md-nav__item> <a href=#configure-primary-cluster class=md-nav__link> Configure Primary Cluster </a> </li> <li class=md-nav__item> <a href=#configure-secondary-cluster class=md-nav__link> Configure Secondary Cluster </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-ingress-controller class=md-nav__link> Install Ingress Controller </a> </li> <li class=md-nav__item> <a href=#certmanager class=md-nav__link> Certmanager </a> </li> <li class=md-nav__item> <a href=#configure-certificate-issuer class=md-nav__link> Configure Certificate Issuer </a> </li> <li class=md-nav__item> <a href=#configure-certificate class=md-nav__link> Configure Certificate </a> </li> <li class=md-nav__item> <a href=#prepare-receiving-namespace class=md-nav__link> Prepare Receiving Namespace </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configure-cloudbees-core class=md-nav__link> Configure CloudBees Core </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configre-siodecar-injector class=md-nav__link> Configre Siodecar Injector </a> </li> <li class=md-nav__item> <a href=#debugging-ssl-issue class=md-nav__link> Debugging SSL Issue </a> </li> <li class=md-nav__item> <a href=#minica-solution class=md-nav__link> MiniCA Solution </a> </li> <li class=md-nav__item> <a href=#fix-port-50000-issue class=md-nav__link> Fix Port 50000 issue </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ticket-for-core-v2 class=md-nav__link> Ticket for Core V2 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kbs class=md-nav__link> KBs </a> </li> <li class=md-nav__item> <a href=#core-docs class=md-nav__link> Core Docs </a> </li> <li class=md-nav__item> <a href=#sidecar-injector class=md-nav__link> Sidecar Injector </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/joostvdg/joostvdg.github.io/edit/master/docs/cloudbees/multi-cluster-temp.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"/></svg> </a> <h1 id=cloudbees-core-on-multiple-clusters>CloudBees Core On Multiple Clusters<a class=headerlink href=#cloudbees-core-on-multiple-clusters title="Permanent link">&para;</a></h1> <ul> <li><a href=https://docs.cloudbees.com/docs/cloudbees-core/latest/cloud-admin-guide/multiple-clusters>https://docs.cloudbees.com/docs/cloudbees-core/latest/cloud-admin-guide/multiple-clusters</a></li> <li><a href=https://docs.microsoft.com/en-us/azure/aks/ingress-static-ip>https://docs.microsoft.com/en-us/azure/aks/ingress-static-ip</a></li> </ul> <h2 id=pre-requisites>Pre-Requisites<a class=headerlink href=#pre-requisites title="Permanent link">&para;</a></h2> <ul> <li>GKE Cluster: Primary</li> <li>AKS Cluster: Secondary</li> </ul> <h2 id=configure-primary-cluster>Configure Primary Cluster<a class=headerlink href=#configure-primary-cluster title="Permanent link">&para;</a></h2> <ul> <li>create cluster</li> <li>retrieve account token</li> <li>retrieve Kubernetes API Endpoint</li> <li>retrieve Kubernetes Root CA<ul> <li>hint -&gt; <code>echo " " | base64 -D</code></li> </ul> </li> <li>install CloudBees Core via Helm (or Jenkins X)</li> </ul> <h2 id=configure-secondary-cluster>Configure Secondary Cluster<a class=headerlink href=#configure-secondary-cluster title="Permanent link">&para;</a></h2> <ul> <li><a href=https://docs.microsoft.com/en-us/azure/aks/ingress-tls>https://docs.microsoft.com/en-us/azure/aks/ingress-tls</a></li> </ul> <h3 id=install-ingress-controller>Install Ingress Controller<a class=headerlink href=#install-ingress-controller title="Permanent link">&para;</a></h3> <p>Create a namespace for your ingress resources</p> <p>Add the official stable repository</p> <div class=highlight><pre><span></span><code>helm repo add stable https://kubernetes-charts.storage.googleapis.com/
</code></pre></div> <p>Use Helm to deploy an NGINX ingress controller</p> <p>Create a values file, <code>ingress-values.yaml</code>.</p> <p>The reason is stated as this:</p> <blockquote> <p>Since version 0.22.1 of stable/nginx-ingress chart, ClusterRole and ClusterRoleBinding are not created automatically when the controller scope is enabled. They are required for this functionality to work. To use the controller scope feature, see the article <a href=https://support.cloudbees.com/hc/en-us/articles/360020511351-Helm-install-of-stable-nginx-ingress-fails-to-deploy-the-Ingress-Controller>Helm install of stable/nginx-ingress fails to deploy the Ingress Controller</a>. </p> </blockquote> <div class=highlight><pre><span></span><code><span class=nt>rbac</span><span class=p>:</span>
  <span class=nt>create</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=nt>defaultBackend</span><span class=p>:</span>
  <span class=nt>enabled</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>controller</span><span class=p>:</span>
  <span class=nt>ingressClass</span><span class=p>:</span> <span class=s>&quot;nginx&quot;</span>
  <span class=nt>metrics</span><span class=p>:</span>
    <span class=nt>enabled</span><span class=p>:</span> <span class=s>&quot;true&quot;</span>
  <span class=nt>replicaCount</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class=nt>nodeSelector</span><span class=p>:</span> 
    <span class=nt>beta\.kubernetes.io/os</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">linux</span> 
  <span class=nt>scope</span><span class=p>:</span>
    <span class=nt>enabled</span><span class=p>:</span> <span class=s>&quot;true&quot;</span>
    <span class=nt>namespace</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">cbmasters</span>
  <span class=nt>service</span><span class=p>:</span>
    <span class=nt>externalTrafficPolicy</span><span class=p>:</span> <span class=s>&quot;Cluster&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl create namespace ingress-nginx
</code></pre></div> <div class=tabbed-set data-tabs=1:2> <input name=__tabbed_1 type=radio id=__tabbed_1_1 checked=checked><label for=__tabbed_1_1>Helm V3</label><div class=tabbed-content><div class=highlight><pre><span></span><code>helm install nginx-ingress stable/nginx-ingress <span class=se>\</span>
    --namespace ingress-nginx <span class=se>\</span>
    --values ingress-values.yaml <span class=se>\</span>
    --version  <span class=m>1</span>.29.6
</code></pre></div></div> <input name=__tabbed_1 type=radio id=__tabbed_1_2><label for=__tabbed_1_2>Helm V2</label><div class=tabbed-content><div class=highlight><pre><span></span><code>helm install <span class=se>\</span>
    --name nginx-ingress stable/nginx-ingress <span class=se>\</span>
    --namespace ingress-nginx <span class=se>\</span>
    --values ingress-values.yaml  <span class=se>\</span>
    --version  <span class=m>1</span>.29.6
</code></pre></div></div> </div> <h3 id=certmanager>Certmanager<a class=headerlink href=#certmanager title="Permanent link">&para;</a></h3> <p>Install the CustomResourceDefinition resources separately</p> <div class=highlight><pre><span></span><code>kubectl apply --validate<span class=o>=</span><span class=nb>false</span> <span class=se>\</span>
    -f https://raw.githubusercontent.com/jetstack/cert-manager/release-0.13/deploy/manifests/00-crds.yaml
</code></pre></div> <p>Label the ingress-basic namespace to disable resource validation</p> <div class=highlight><pre><span></span><code>kubectl label namespace ingress-basic certmanager.k8s.io/disable-validation<span class=o>=</span><span class=nb>true</span>
</code></pre></div> <p>Add the Jetstack Helm repository</p> <div class=highlight><pre><span></span><code>helm repo add jetstack https://charts.jetstack.io
</code></pre></div> <p>Update your local Helm chart repository cache</p> <div class=highlight><pre><span></span><code>helm repo update
</code></pre></div> <p>Create a <code>certmanager-values.yaml</code> file.</p> <div class=highlight><pre><span></span><code><span class=nt>ingressShim</span><span class=p>:</span>
    <span class=nt>defaultIssuerName</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">letsencrypt</span>
    <span class=nt>defaultIssuerKind</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
</code></pre></div> <p>Install the cert-manager Helm chart.</p> <div class=tabbed-set data-tabs=2:2> <input name=__tabbed_2 type=radio id=__tabbed_2_1 checked=checked><label for=__tabbed_2_1>Helm V3</label><div class=tabbed-content><div class=highlight><pre><span></span><code>helm install cert-manager <span class=se>\</span>
  --namespace cert-manager <span class=se>\</span>
  --version v0.13.0 <span class=se>\</span>
  --values certmanager-values.yaml <span class=se>\</span>
  jetstack/cert-manager
</code></pre></div></div> <input name=__tabbed_2 type=radio id=__tabbed_2_2><label for=__tabbed_2_2>Helm V2</label><div class=tabbed-content><div class=highlight><pre><span></span><code>helm install <span class=se>\</span>
  --name cert-manager <span class=se>\</span>
  --namespace cert-manager <span class=se>\</span>
  --version v0.13.0 <span class=se>\</span>
  --values certmanager-values.yaml <span class=se>\</span>
  jetstack/cert-manager
</code></pre></div></div> </div> <h3 id=configure-certificate-issuer>Configure Certificate Issuer<a class=headerlink href=#configure-certificate-issuer title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">cert-manager.io/v1alpha2</span>
<span class=nt>kind</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterIssuer</span>
<span class=nt>metadata</span><span class=p>:</span>
  <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">letsencrypt</span>
<span class=nt>spec</span><span class=p>:</span>
  <span class=nt>acme</span><span class=p>:</span>
    <span class=nt>server</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">https://acme-v02.api.letsencrypt.org/directory</span>
    <span class=nt>email</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">MY_EMAIL_ADDRESS</span>
    <span class=nt>privateKeySecretRef</span><span class=p>:</span>
      <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">letsencrypt</span>
    <span class=nt>solvers</span><span class=p>:</span>
    <span class="p p-Indicator">-</span> <span class=nt>http01</span><span class=p>:</span>
        <span class=nt>ingress</span><span class=p>:</span>
          <span class=nt>class</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl apply -f cluster-issuer.yaml --namespace ingress-basic
</code></pre></div> <h3 id=configure-certificate>Configure Certificate<a class=headerlink href=#configure-certificate title="Permanent link">&para;</a></h3> <p>Todo</p> <h3 id=prepare-receiving-namespace>Prepare Receiving Namespace<a class=headerlink href=#prepare-receiving-namespace title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=nv>NAMESPACE</span><span class=o>=</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl create namespace <span class=nv>$NAMESPACE</span>
</code></pre></div> <p>Create a configuration for CloudBees Core Helm chart, called <code>cloudbees-values.yaml</code>.</p> <div class=highlight><pre><span></span><code><span class=nt>OperationsCenter</span><span class=p>:</span>
    <span class=nt>Enabled</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=nt>Master</span><span class=p>:</span>
    <span class=nt>Enabled</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class=nt>OperationsCenterNamespace</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">jx-staging</span>
<span class=nt>Agents</span><span class=p>:</span>
    <span class=nt>Enabled</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=" -Error"> </span><span class=err>```</span>


<span class=err>```</span><span class="l l-Scalar l-Scalar-Plain">bash</span>
<span class="l l-Scalar l-Scalar-Plain">helm fetch \</span>
 <span class="l l-Scalar l-Scalar-Plain">--repo https://charts.cloudbees.com/public/cloudbees \</span>
 <span class="l l-Scalar l-Scalar-Plain">--version 3.8.0+a0d07461ae1c \</span>
 <span class="l l-Scalar l-Scalar-Plain">cloudbees-core</span>
</code></pre></div> <div class=highlight><pre><span></span><code>helm template cloudbees-core-namespace <span class=se>\</span>
 cloudbees-core-3.8.0+a0d07461ae1c.tgz <span class=se>\</span>
 -f cloudbees-values.yaml <span class=se>\</span>
 --namespace <span class=si>${</span><span class=nv>NAMESPACE</span><span class=si>}</span> <span class=se>\</span>
 &gt; cloudbees-core-namespace.yml
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl apply -f cloudbees-core-namespace.yml --namespace <span class=si>${</span><span class=nv>NAMESPACE</span><span class=si>}</span>
</code></pre></div> <h2 id=configure-cloudbees-core>Configure CloudBees Core<a class=headerlink href=#configure-cloudbees-core title="Permanent link">&para;</a></h2> <ul> <li>Client Secret -&gt; <code>secret text</code> -&gt; the token from Terraforms output</li> <li></li> </ul> <h3 id=configre-siodecar-injector>Configre Siodecar Injector<a class=headerlink href=#configre-siodecar-injector title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>helm fetch <span class=se>\</span>
 --repo https://charts.cloudbees.com/public/cloudbees <span class=se>\</span>
 --version <span class=m>2</span>.0.1 <span class=se>\</span>
    cloudbees-sidecar-injector
</code></pre></div> <p>Untar the config, and update the configmap -&gt; <code>templates/configmap.yaml</code>. Set <code>requiresExplicitInjection</code> to true.</p> <div class=highlight><pre><span></span><code>    requiresExplicitInjection: <span class=nb>true</span>
</code></pre></div> <p>Generate the end result:</p> <div class=highlight><pre><span></span><code>helm template cloudbees-sidecar-injector <span class=se>\</span>
 cloudbees-sidecar-injector <span class=se>\</span>
 --namespace  cloudbees-sidecar-injector<span class=se>\</span>
 &gt; cloudbees-sidecar-injector.yml
</code></pre></div> <p>And apply the file.</p> <div class=highlight><pre><span></span><code>kubectl apply -f cloudbees-sidecar-injector.yml
</code></pre></div> <h3 id=debugging-ssl-issue>Debugging SSL Issue<a class=headerlink href=#debugging-ssl-issue title="Permanent link">&para;</a></h3> <p>Add System properties: <div class=highlight><pre><span></span><code>javax.net.ssl.trustStore<span class=o>=</span>/etc/ssl/certs/java/cacerts
javax.net.ssl.trustStorePassword<span class=o>=</span>changeit
javax.net.debug<span class=o>=</span>SSL,trustmanager
</code></pre></div></p> <p>Add annotation <code>com.cloudbees.sidecar-injector/inject: yes</code>, and change this in the master configuration.</p> <div class=highlight><pre><span></span><code><span class=nt>apiVersion</span><span class=p>:</span> <span class=s>&quot;apps/v1&quot;</span>
<span class=nt>kind</span><span class=p>:</span> <span class=s>&quot;StatefulSet&quot;</span>
<span class=nt>spec</span><span class=p>:</span>
  <span class=nt>template</span><span class=p>:</span>
    <span class=nt>metadata</span><span class=p>:</span>
      <span class=nt>annotations</span><span class=p>:</span>
        <span class=nt>prometheus.io/path</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">/${name}/prometheus</span>
        <span class=nt>prometheus.io/port</span><span class=p>:</span> <span class=s>&quot;8080&quot;</span>
        <span class=nt>prometheus.io/scrape</span><span class=p>:</span> <span class=s>&quot;true&quot;</span>
        <span class=nt>com.cloudbees.sidecar-injector/inject</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class=nt>labels</span><span class=p>:</span>
        <span class=nt>app.kubernetes.io/component</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">Managed-Master</span>
        <span class=nt>app.kubernetes.io/instance</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">${name}</span>
        <span class=nt>app.kubernetes.io/managed-by</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">CloudBees-Core-Cloud-Operations-Center</span>
        <span class=nt>app.kubernetes.io/name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">${name}</span>
</code></pre></div> <div class=highlight><pre><span></span><code>trustStore is: /etc/ssl/certs/java/cacerts
trustStore <span class=nb>type</span> is: jks
trustStore provider is:
</code></pre></div> <p>----- BEGIN CONNECTION DETAILS ----- H4sIAAAAAAAAAA3KQQ7CIBBA0bvMWqBMKLS9zTAi1lowMF0Z7y6bn7zkfyE3KgIbLC56Gx6sJhtn 5XBFFe0IYiA3zeviA8MN9vt4UZ0n+aGrvQefIp++GcO1Jd2F8l6yzkfSR6JWuy5JDL8qG/j9ATek aGdwAAAA ----- END CONNECTION DETAILS -----</p> <p>Problem is, Jenkins uses an outdated SSL library (openSSL) that doesn't support SNI (servername). This cause Nginx Ingress Controller to return an invalid certificate: <code>Issuer: CN=Kubernetes Ingress Controller Fake Certificate, O=Acme Co</code>. As this is not a CA cert, it cannot be directly trusted.</p> <h3 id=minica-solution>MiniCA Solution<a class=headerlink href=#minica-solution title="Permanent link">&para;</a></h3> <p>The gist: * create custom CA with <a href=https://github.com/jsha/minica>minica</a> * generate wildcard certificate for primary domain * set wildcard cert as <code>default ssl certificate</code> * <code>- --default-ssl-certificate=default/cloudbees-core.kearos.net-tls</code> * add custom CA to <code>cacerts</code> truststore and <code>ca-certificates.cert</code> * update <code>ca-bundles</code> configmap solution with <a href=https://docs.cloudbees.com/docs/cloudbees-core/latest/cloud-admin-guide/kubernetes-self-signed-certificates>sidecar injector</a></p> <div class=highlight><pre><span></span><code>minica --domains kearos.net
</code></pre></div> <div class=highlight><pre><span></span><code>cat minica.pem &gt;&gt; ca-certificates.crt
keytool -import -noprompt -keystore cacerts -file minica.pem -storepass changeit -alias kearos-net<span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl create configmap --from-file<span class=o>=</span>ca-certificates.crt,cacerts ca-bundles
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl create secret tls tls-fake-kearos-net --key ./kearos.net/key.pem --cert ./kearos.net/cert.pem --namespace default
</code></pre></div> <p><code>kubectl edit deployment nginx-ingress-controller</code></p> <div class=highlight><pre><span></span><code><span class=nt>spec</span><span class=p>:</span>
    <span class=nt>containers</span><span class=p>:</span>
    <span class="p p-Indicator">-</span> <span class=nt>args</span><span class=p>:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">/nginx-ingress-controller</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--configmap=$(POD_NAMESPACE)/nginx-configuration</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--tcp-services-configmap=$(POD_NAMESPACE)/tcp-services</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--udp-services-configmap=$(POD_NAMESPACE)/udp-services</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--publish-service=$(POD_NAMESPACE)/ingress-nginx</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--annotations-prefix=nginx.ingress.kubernetes.io</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">--default-ssl-certificate=default/tls-fake-kearos-net</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl create configmap --from-file<span class=o>=</span>ca-certificates.crt,cacerts ca-bundles
</code></pre></div> <p>Change <code>cjoc-0</code> ingress:</p> <p>Add</p> <div class=highlight><pre><span></span><code>      <span class="p p-Indicator">-</span> <span class=nt>backend</span><span class=p>:</span>
          <span class=nt>serviceName</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">cjoc</span>
          <span class=nt>servicePort</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>
        <span class=nt>path</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">/</span>
</code></pre></div> <p>Remove:</p> <div class=highlight><pre><span></span><code><span class=nt>metadata</span><span class=p>:</span>
  <span class=nt>annotations</span><span class=p>:</span>
    <span class=nt>nginx.ingress.kubernetes.io/app-root</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">https://$best_http_host/cjoc/teams-check/</span>
</code></pre></div> <h3 id=fix-port-50000-issue>Fix Port 50000 issue<a class=headerlink href=#fix-port-50000-issue title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=c1># nginx-config-map.yaml</span>
<span class=nt>apiVersion</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class=nt>kind</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">ConfigMap</span>
<span class=nt>metadata</span><span class=p>:</span>
  <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">tcp-services</span>
  <span class=nt>namespace</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">kube-system</span>
<span class=nt>data</span><span class=p>:</span>
  <span class=nt>50000</span><span class=p>:</span> <span class=s>&quot;jx-staging/cjoc:50000&quot;</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl apply -f nginx-config-map.yaml
</code></pre></div> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span> <span class=nt>containerPort</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">50000</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">jnlp</span>
    <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
</code></pre></div> <p>And in its args, add <code>--tcp-services-configmap</code> and point to the tcp-services configmap you created.</p> <div class=highlight><pre><span></span><code>args: 
    ...
   - --tcp-services-configmap<span class=o>=</span>kube-system/tcp-services
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl edit -n kube-system deployment jxing-nginx-ingress-default-backend
</code></pre></div> <ul> <li><a href=https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/ >https://kubernetes.github.io/ingress-nginx/user-guide/exposing-tcp-udp-services/</a></li> </ul> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span> <span class=nt>name</span><span class=p>:</span> <span class="l l-Scalar l-Scalar-Plain">jnlp</span>
    <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50000</span>
    <span class="l l-Scalar l-Scalar-Plain">protocol</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
    <span class="l l-Scalar l-Scalar-Plain">targetPort</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">jnlp</span>
</code></pre></div> <div class=highlight><pre><span></span><code>kubectl edit -n kube-system svc jxing-nginx-ingress-controller
</code></pre></div> <h2 id=ticket-for-core-v2>Ticket for Core V2<a class=headerlink href=#ticket-for-core-v2 title="Permanent link">&para;</a></h2> <p>In the 2.204 Operations Center image, the location of the truststore (<code>cacerts</code>) and the ca certificate bundle ( <code>ca-certificates.crt</code>) has changed. In general there isn't a direct issue, but we mention it in a lot of places. This should be checked, propably tested and communicated to docs.</p> <h3 id=kbs>KBs<a class=headerlink href=#kbs title="Permanent link">&para;</a></h3> <ul> <li><a href=https://support.cloudbees.com/hc/en-us/articles/360018267271>https://support.cloudbees.com/hc/en-us/articles/360018267271</a></li> <li><a href=https://support.cloudbees.com/hc/en-us/articles/360018094412-Deploy-Self-Signed-Certificates-in-Masters-and-Agents-Custom-Location->https://support.cloudbees.com/hc/en-us/articles/360018094412-Deploy-Self-Signed-Certificates-in-Masters-and-Agents-Custom-Location-</a></li> </ul> <h3 id=core-docs>Core Docs<a class=headerlink href=#core-docs title="Permanent link">&para;</a></h3> <ul> <li><a href=https://docs.cloudbees.com/docs/cloudbees-core/latest/cloud-admin-guide/kubernetes-self-signed-certificates>https://docs.cloudbees.com/docs/cloudbees-core/latest/cloud-admin-guide/kubernetes-self-signed-certificates</a></li> </ul> <h3 id=sidecar-injector>Sidecar Injector<a class=headerlink href=#sidecar-injector title="Permanent link">&para;</a></h3> <ul> <li><a href=https://github.com/cloudbees/sidecar-injector/blob/master/charts/cloudbees-sidecar-injector/README.md#create-a-certificate-bundle>https://github.com/cloudbees/sidecar-injector/blob/master/charts/cloudbees-sidecar-injector/README.md#create-a-certificate-bundle</a></li> <li><a href=https://github.com/cloudbees/sidecar-injector/blob/c965497a51bc68f6dc6df8e9aef2403819f7902f/charts/cloudbees-sidecar-injector/values.yaml>https://github.com/cloudbees/sidecar-injector/blob/c965497a51bc68f6dc6df8e9aef2403819f7902f/charts/cloudbees-sidecar-injector/values.yaml</a></li> </ul> <hr> <div class=md-source-date> <small> Last update: 2020-01-31 23:35:11 </small> </div> <h2 id=__comments>Comments</h2> <div id=disqus_thread></div> <script>var disqus_config=function(){this.page.url="https://joostvdg.github.io/cloudbees/multi-cluster-temp/",this.page.identifier="/cloudbees/multi-cluster-temp/"};!function(){var e=document,i=e.createElement("script");i.src="//joostvdg-github-io.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)}()</script> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Joost van der Griendt </div> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener> MkDocs </a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/joostvdg target=_blank rel=noopener class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://twitter.com/joost_vdg target=_blank rel=noopener class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/in/joostvdg target=_blank rel=noopener class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script>var __config={}</script> <script src=../../assets/javascripts/vendor.dd2d8181.min.js></script> <script src=../../assets/javascripts/bundle.b806a4d5.min.js></script><script id=__lang type=application/json>
        {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}
      </script> <script>
        __material = initialize(Object.assign({
          url: {
            base: "../..",
            worker: {
              search: "../../assets/javascripts/worker/search.edc88caf.min.js"
            }
          },
          features: ["tabs", "instant"]
        }, typeof __config !== "undefined" ? __config : {}))
      </script> </body> </html>